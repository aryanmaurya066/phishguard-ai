{"ast":null,"code":"import axios from 'axios';\nconst BASE_URL = process.env.REACT_APP_API_URL; // Change for deployment\nconst sessionId = localStorage.getItem(\"sessionId\") || crypto.randomUUID();\nlocalStorage.setItem(\"sessionId\", sessionId);\nexport const analyzePhishing = async payload => {\n  const token = localStorage.getItem('token');\n  const username = localStorage.getItem(\"username\");\n  const res = await axios.post(`${BASE_URL}/analyze/web`, payload, {\n    headers: {\n      \"X-Session-ID\": sessionId,\n      \"Authorization\": `Bearer ${token}`,\n      \"X-Username\": username\n    }\n  });\n  if (!res.data || typeof res.data !== 'object') {\n    throw new Error(\"Invalid response from server\");\n  }\n  return res;\n};","map":{"version":3,"names":["axios","BASE_URL","process","env","REACT_APP_API_URL","sessionId","localStorage","getItem","crypto","randomUUID","setItem","analyzePhishing","payload","token","username","res","post","headers","data","Error"],"sources":["D:/phishguard-ai - Copy/frontend/src/api/web_api.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst BASE_URL = process.env.REACT_APP_API_URL; // Change for deployment\r\nconst sessionId = localStorage.getItem(\"sessionId\") || crypto.randomUUID();\r\nlocalStorage.setItem(\"sessionId\", sessionId);\r\n\r\nexport const analyzePhishing = async (payload) => {\r\n  const token = localStorage.getItem('token');\r\n  const username = localStorage.getItem(\"username\");\r\n  const res = await axios.post(`${BASE_URL}/analyze/web`, payload,\r\n    {\r\n    headers: {\r\n      \"X-Session-ID\": sessionId,\r\n      \"Authorization\": `Bearer ${token}`,\r\n      \"X-Username\": username\r\n    }\r\n    });\r\n  if (!res.data || typeof res.data !== 'object') {\r\n    throw new Error(\"Invalid response from server\");\r\n  }\r\n  return res;\r\n};\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,QAAQ,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,CAAC,CAAC;AAChD,MAAMC,SAAS,GAAGC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC,IAAIC,MAAM,CAACC,UAAU,CAAC,CAAC;AAC1EH,YAAY,CAACI,OAAO,CAAC,WAAW,EAAEL,SAAS,CAAC;AAE5C,OAAO,MAAMM,eAAe,GAAG,MAAOC,OAAO,IAAK;EAChD,MAAMC,KAAK,GAAGP,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C,MAAMO,QAAQ,GAAGR,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC;EACjD,MAAMQ,GAAG,GAAG,MAAMf,KAAK,CAACgB,IAAI,CAAC,GAAGf,QAAQ,cAAc,EAAEW,OAAO,EAC7D;IACAK,OAAO,EAAE;MACP,cAAc,EAAEZ,SAAS;MACzB,eAAe,EAAE,UAAUQ,KAAK,EAAE;MAClC,YAAY,EAAEC;IAChB;EACA,CAAC,CAAC;EACJ,IAAI,CAACC,GAAG,CAACG,IAAI,IAAI,OAAOH,GAAG,CAACG,IAAI,KAAK,QAAQ,EAAE;IAC7C,MAAM,IAAIC,KAAK,CAAC,8BAA8B,CAAC;EACjD;EACA,OAAOJ,GAAG;AACZ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}